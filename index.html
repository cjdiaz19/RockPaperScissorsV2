<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="UTF-8">
         <title>Rock, Paper, Scissors</title>
         <link rel="stylesheet" href="styles.css">
    </head>

    <body>
       
        <div class = "buttons" id="buttons">
            <!-- <span><input type="button" id="btn rock" class="btn rock" value="Rock"></span> -->
            <span><h2 class="playerScore">0</h2></span>
            <span><h2>-</h2></span>
            <span><h2 class="cpuScore">0</h2></span>
            <span><button class="btn rock" id="Rock">Rock</span>
            <span><button class="btn paper" id="Paper">Paper</span>
            <span><button class="btn scissors" id="Scissors">Scissors</span>
        </div>
        <div class="result"></div>             
    </body>
  
    <script>
       
        // const buttons = document.getElementById("buttons");
        // let btn = document.querySelector(".btn")
        // btn.addEventListener("click", game());
        
        // document.getElementById("btn paper").onclick = game('paper');
        // document.getElementById("btn scissors").onclick = game('scissors');
        var Rock = document.getElementById('Rock').addEventListener('click', game);
        var Paper = document.getElementById('Paper').addEventListener('click', game);
        var Scissors = document.getElementById('Scissors').addEventListener('click', game);
        
        function game() {
            const containerUserScore = document.querySelector('.playerScore');
            const containerCPUScore = document.querySelector('.cpuScore');
            let CPUWin = Number(containerCPUScore.textContent), UserWin = Number(containerUserScore.textContent); // RoundNum = 0;
                //while (RoundNum < 5) {
                    //Move = prompt("Please enter rock, paper, or scissors.").toLowerCase();
                    let Move = this.innerText;
                    Move = Move.toLowerCase();

                    let result = MainPlay(Move);
                    if (result == "You win!") {
                        UserWin = UserWin + 1;
                    } else if (result == "You lose!") {
                        CPUWin = CPUWin + 1;
                    }

                    const containerResult = document.querySelector('.result');
                    containerResult.textContent = result;
                    containerUserScore.textContent = UserWin.toString();
                    containerCPUScore.textContent = CPUWin.toString();
                    //RoundNum = RoundNum + 1;
                //}
                // if (UserWin > CPUWin) {
                //     console.log("Congratulations! You beat the CPU!");
                // } else if (UserWin < CPUWin) {
                //     console.log("Better luck next time!");
                // } else {
                //     console.log("You tied with the CPU.");
                // }
            
        }
        function MainPlay(Move) {
            let CPUMove = computerPlay();
            let gameResult = playRound(Move, CPUMove);
            
            return gameResult;
        }
        
        function computerPlay() {
            let CPUplay = 3 * Math.random();
           
            if (Number(CPUplay) > 2) {
                move = 'rock';
            } else if (CPUplay < 1) {
                move = 'paper';
            } else {
                move = 'scissors';
            }

            return move;
        }

        function playRound(playerSelection, computerSelection) {
            if (playerSelection == computerSelection) {
                result = "It's a tie!";
            } else {

                switch(playerSelection) {
                    case "rock":
                        if (computerSelection == "paper") {
                            result = "You lose!";
                        } else if (computerSelection = "scissors") {
                            result = "You win!";
                        }
                        break;
                    case "paper":
                        if (computerSelection == "scissors") {
                            result = "You lose!";
                        } else if (computerSelection == "rock") {
                            result = "You win!";
                        }
                        break;
                    case "scissors":
                        if (computerSelection == "rock") {
                            result = "You lose!";
                        } else if (computerSelection == "paper") {
                            result = "You win!";
                        }
                        break;
                }
            }

              return result;
        }

    </script>
</html>
